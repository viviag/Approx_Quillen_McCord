This section contains the proof of Quillen-McCord theorem given by Barmak.

\begin{proposition} {\cite[Proposition 2.1]{Bar11}}
  \label{prop:homotopy_t}
  Let $X$ and $Y$ be two simplicial complexes such that $X \cup Y$ is a simplicial complex. Then if $\mathcal{K}(X) \cup \mathcal{K}(Y) \hookrightarrow \mathcal{K}(X)$ is a homotopy equivalence, then so is $\mathcal{K}(Y) \hookrightarrow \mathcal{K}(X \cup Y)$.
\end{proposition}

\begin{proposition} {Variation of \cite[Proposition 2.2]{Bar11}}
  \label{prop:comparison}
  Let $f,g : X \to Y$ be order-preserving maps between finite posets such that $\forall x\;f(x) \leq g(x)$. Then $\mathcal{B}(f)$ is homotopy-equivalent to $\mathcal{B}(g)$.
\end{proposition}

\begin{pf}
  $X$ has a finite set $M$ of maximal elements. Take any of them ($m_1$) and define $h_1 : X \to Y$ such that $h_1(m_1) = g(m_1)$ and $h_1 = f$ on all other elements of $X$. This is an order-preserving map due to maximality of $m_1$. Take $M \setminus \{m_1\}$ and build $h_2$ which is equal to $h_1$ on complement to $m_2$ and to $g$ on $m_2$ and so on. We have built a finite sequence of maps $h_0 = f \leq h_1 \leq h_1 \leq \ldots \leq g = h_n$.\\

  Elements $h_i(m_i)$ and $h_{i-1}(m_i)$ are comparable. Hence there exists simplex $\{h_i(m_i); h_{i-1}(m_i)\}$ in $\mathcal{N}(Y)$. Since $\mathcal{N}(Y)$ is a simplicial complex, for other elements between selected where exist no holes and thus where is a linear homotopy between $h_{i-1}$ and $h_{i}$ which contracts simplex $\{h_i(m_i); h_{i-1}(m_i)\}$.\\

  Hence there is a homotopy between $f$ and $g$.
\end{pf}

\begin{proposition}
  Note that $\operatorname{lk}(\mathcal{N}(x)) = \mathcal{N}(X_{>x}) \star \mathcal{N}(X_{<x})$. Therefore $\mathcal{K}(\operatorname{lk}(\mathcal{N}(x))) = \mathcal{B}(X_{>x}) \star \mathcal{B}(X_{<x})$.
\end{proposition}

\begin{remark}
  \label{covering}
  $\mathcal{B}(X) = \mathcal{B}(X \setminus \{x\}) \cup \mathcal{K}(\operatorname{st}(\mathcal{N}(x)))$ for any $x \in X$.\\
\end{remark}

\begin{lemma}
  Let $X$ be a finite poset and for $x \in X$ either $\mathcal{B}(X_{>x})$ or $\mathcal{B}(X_{<x})$ is contractible. Then embedding $\mathcal{B}(X \setminus \{x\}) \hookrightarrow \mathcal{B}(X)$ is a homotopy equivalence.
\end{lemma}

\begin{pf}
  By proposition $\mathcal{K}(\operatorname{lk}(\mathcal{N}(x)))$ is contractible. Hence its embedding to its cone $\mathcal{K}(\operatorname{st}(\mathcal{N}(x)))$ is homotopy equivalence by Whitehead theorem. Lemma follows by Proposition \ref{prop:homotopy_t}.
\end{pf}

\begin{definition}
  Let $f : X \to Y$ be an order preserving map between posets. Denote orders ($\leq$) on $X$ and $Y$ as $R_X$ and $R_Y$. Then we define poset $M(f) = X \coprod Y$ with $R = R_X \cup R_Y \cup R_{f}$ where $(x,y) \in R_f$ if and only if $(f(x),y) \in R_Y$.\\

  We will by analogy denote this poset a \define{mapping cylinder} of $f$. There are also defined canonical inÑlusions $i : X \to M(f)$ and $j : Y \to M(f)$.
\end{definition}

\begin{pf} \textbf{Quillen-McCord theorem}\\
  Let $X, Y$ be finite posets with order-preserving map $f : X \to Y$.\\

  Every poset has linear extension. Let $x_1, x_2, \ldots, x_n$ be enumeration of $X$ in such linear order and $Y^r = \{x_1,\ldots,x_r\} \cup Y \subset M(f)$ for any $r$.\\

  Consider $Y^r_{>x_r} = Y_{\geq f(x_r)}$. $\mathcal{B}(Y_{\geq f(x_r)})$ is a cone over $\mathcal{B}(f(x_r))$. It is contractible, therefore $\mathcal{B}(Y^{r-1}) \hookrightarrow \mathcal{B}(Y^{r})$ is homotopy equivalence by lemma. By iteration $\mathcal{B}(j) : \mathcal{B}(Y^{0}) = \mathcal{B}(Y) \hookrightarrow \mathcal{B}(M(f)) = \mathcal{B}(Y^n)$ is homotopy equivalence between $BY$ and $M(f)$.\\

  Then consider linear extension of $Y$ with enumeration $y_1,\ldots,y_m$ and $X^r = X \cup \{y_{r+1},\ldots,y_m\} \subset M(f)$. $X^{r-1}_{\leq y_r} = f^{-1}(Y_{\leqslant y_r})$. Latter is contractible by condition of the theorem. Hence $\mathcal{B}(X^{r}) \hookrightarrow \mathcal{B}(X^{r-1})$ is homotopy equivalence and by transitivity $\mathcal{B}(i)$ is a homotopy equivalence between $X$ and $M(f)$.\\

  Note that $i(x) \leqslant (j \circ f)(x)$. By Proposition \ref{prop:comparison} $\mathcal{B}(i)$ is homotopic to $\mathcal{B}(j \circ f) = \mathcal{B}(j) \circ \mathcal{B}(f)$. Hence $\mathcal{B}(f)$ is the homotopy equivalence between $BX$ and $BY$.
\end{pf}
