We strive to provide version of this theorem suitable for usage in the setting of persistence complexes and in computations. New theorem must respect interleaving distances and give an accurate measure of error propagation.\\
Let's develop appropriate technique before giving a statement.\\

We have two types of persistence objects with similar definitions. It is appealing to form general notion of persistence object such that these definitions fall into special cases.\\

\begin{definition}
  Consider $I$ --- poset category of a fixed linearly ordered set. There is a sequence category $Fun(I, \mathcal{C})$ of functors from $I$ to some category $\mathcal{C}$. We call objects of this category \define{persistence objects over $\mathcal{C}$}
\end{definition}

\begin{example} ~ \par
  \begin{itemize}
    \item Persistence complex is a persistence object over category of chain complexes;
    \item Persistence $R$-module is a persistence object over category of $R$-modules;
    \item Persistence simplicial set is a persistence object over category $Psh(\Delta)$;
    \item Persistence poset is a persistence object over $Pos$;
    \item Persistence topological space is a persistence object over $Top$.
  \end{itemize}
\end{example}

\begin{definition}
  We denote images of morphisms in $I$ as \define{structure} maps of a persistence object over $\mathcal{C}$. For countable $I$ it is generally enough to consider generating set of these morphisms, i.e. set of morphisms which cannot be written as a composition of two nontrivial morphisms.
\end{definition}

We use notation $(X,\phi)$ for "Persistence object X with structure maps $\phi$ over fixed indexing category $I$". Keeping in mind that indexing set must not be countable we generally use notation $\phi_i$ for a structure map between $X_i$ and $X_{i+1}$. We give both unit and indexation of structure maps no literal meaning but this notation is intuitive and incapsulates sequential nature of objects we consider.\\
%FIXME: bad notation, always use $i$ and $j$ instead?

Consider $\mathcal{F}$ --- functor from $\mathcal{C}$ to $\mathcal{D}$. It naturally extends to functor between $Fun(I,\mathcal{C})$ and $Fun(I,\mathcal{D})$. Let $P$ be persistence poset. Apparently $\mathcal{B}(P)$ is a persistence topological space.\\

\begin{definition}
  Persistence topological space $X$ is called \define{$\varepsilon$-acyclic} over $R$ if for all indices\\ $H_i(X,R) \stackrel{\varepsilon}{\sim} H_i(pt,R)$.
\end{definition}

\begin{definition}
  We say that morphism $f : X \to Y$ between persistence topological spaces induces $\varepsilon$-interleaving if there exists $g : Y \to X$ such that induced maps of pair $(f,g)$ on graded homology modules form $\varepsilon$-interleaving.
\end{definition}

\begin{definition}
  \define{Persistence poset of finite type} is a finite sequence of finite posets.\\

  In terms of functors "finite sequence" means that only finite set of indices has nontrivial image. It's convenient to define "trivial object" as initial object where present.
\end{definition}

Property of being of finite type is preserved by functors which map initial objects to initial.\\

\begin{proposition}
  Let $X$ be a persistence poset of finite type. Then $BX$ has homology modules of finite type.
\end{proposition}

\begin{pf}
  Nerve of the empty poset is an empty simplicial set, which is an initial object. Hence $BX$ is a geometric realization of simplicial complex of finite type. Homology of $BX$ can be computed as homology of this simplicial comples. Hence homology modules of $BX$ are of finite type.
\end{pf}\\

\begin{corollary}
  In particular $BX$ has finitely presented homology modules.
\end{corollary}

There is a general fact --- if some universal object exists in $C$, it can be constructed component-wise in $Fun(I,C)$. Let's inspect this component-wise construction of universal objects by useful example:\\

\begin{definition}
  Let $f = (f_1,\ldots,f_n,\ldots)$ be map of persistence posets $(X, \phi)$ and $(Y, \psi)$. Then mapping cylinders $M(f_j)$ form persistence poset $M(f)$ with structure maps arising from universal property of coproduct and structure maps of $X$ and $Y$.\\

  To be explicit consider the following diagram in $Pos$ with $i_X$, $j_Y$ being series of canonical inclusions:\\
  \begin{tikzcd}
  X_{j}\arrow{r}{{i_X}_j}\arrow{d}{\phi_{i_X}} & X_j \coprod Y_j\arrow{d}{\zeta_j} & Y_{j}\arrow{l}{{i_Y}_j}\arrow{d}{\psi_{i_Y}} \\
  X_{j+1}\arrow{r}{{i_X}_{j+1}} & X_{j+1} \coprod Y_{j+1} & Y_{j+1}\arrow{l}{{i_Y}_{j+1}} \\
  \end{tikzcd}\\

  Existence of order-preserving maps $\zeta_j$ is guaranteed by universal property of coproducts, they are set to be structure maps of $M(f)$. $(M(f), \zeta_j)$ is a \define{mapping cylinder of map of persistence posets}.\\

  We also have canonical inclusions $i_X$ and $i_Y$ arising from the same diagram.
\end{definition}

Other examples of such component-wise constructions are kernels, cokernels and homology modules.\\

We can also define a subobject in $Fun(I, \mathcal{C})$:

\begin{definition} ~ \par
  Consider persistence object $(X,\phi)$ and subobjects $Y_i$ of $X_i$.\\

  Then if structure maps $\phi$ admit all pullbacks $\phi^{\star}$ $(Y,\phi^{\star})$ is a subobject of $(X, \phi)$.\\

  Pullback of $f : A \to B$ onto subobjects $[i]$ and $[j]$ is a map $f^{\star}$ between preimages of subobjects --- isomorphism classes $S$, $T$ of objects such that the diagram\\
  \begin{tikzcd}
    S \arrow{d}{f^{\star}}\arrow{r}{[i]} & A\arrow{d}{f} \\
    T \arrow{r}{[j]} & B \\
  \end{tikzcd}
  commutes.
\end{definition}

Illustrative example is given by definition in $Fun(I, Pos)$:\\

\begin{definition} ~ \par
  Consider persistence poset $(X,\phi)$ and sets $Y_i \subset X_i$.\\

  If there is no element $y$ in any $Y_i$ such that $\phi(y) \not\in Y_{i+1}$ then component-wise inclusion $Y \to X$ commutes with structure maps and form embedding of persistence posets. In this case $Y=(\ldots,Y_i,\ldots)$ is a \define {persistence subposet} of $X$.
\end{definition}

We can also define \define{element} of a persistence poset.
\begin{definition}
  Let $(X,\phi)$ be a persistence poset, $x_i \in X_i$. In all components with degree above $i$ there exist elements $\phi(x_i)$ in components. In degrees below we take iterated preimages while possible and define $x_j = \bot$ for $j < i$ if there is no preimage.
\end{definition}

Although this definition operates contradiction it is eliminated by applications.\\
For instance we can consider the following example of subposet:
\begin{example}
  Let $x$ be an element of persistence subposet $(X, \phi)$. Then we can define $X_{<x}$ component-wise as poset of elements less than $x$ and as trivial poset if $x_i = \bot$.\\

  $X_{<x}$ contains component-wise only elements comparable with $x$. Since structure maps are order preserving, $X_{<x}$ is a subposet.
\end{example}

Finally we give a definition of persistence covering.\\

\begin{definition}
  Assume poset $X$ splits into subposets $X_j$. It is not a trivial assumption since arbitrary split can lose some structure maps. Then every subposet $X_j$ has its own classifying space $BX_j$. If these spaces (or minimal open sets containing them) cover the whole $BX$, they are called \define{persistence covering}.
\end{definition}

This definition gives an example of how structures in category of persistence posets can be transferred to other persistence categories. It is possible to reformulate the definition as internal to category of persistence topological spaces but we prefer to keep more constructive way.
